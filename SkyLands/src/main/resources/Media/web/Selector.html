<html>
	<head>
		<link rel="stylesheet" type="text/css" href="selector.css" />
		<script type="text/javascript" src="jquery.js"> </script>
        <script type="text/javascript" src="keys.js"> </script>
		<script>
			var RatioX = 1, RatioTotalX = 1;
			var RatioY = 1, RatioTotalY = 1;
			var Position = 0;

			function setImageAtPosition(position, img, amount) {
				$(".item:eq(" + position +")").attr("src", "../materials/textures/" + img);
			}

			function setSelectorPosition(pos) {
					var left = parseInt($(".slot:eq(" + pos +")").css("left")) - 3 * RatioTotalX;
					$("#selector").css("left", left + "px");
					Position = pos;
					//jsObject.Position = pos;
			}

			function getMaterialAt(pos) {
				var mat = $(".item:eq(" + pos +")").attr("src");
				var matArray = mat.split("/");
				mat = matArray[matArray.length - 1];
				return mat;
			}

			function setMaterialAt(position, img) {
				$(".item:eq(" + position +")").attr("src", "../materials/textures/" + img);
			}

			function getAmountAt(pos) {
				return $(".num:ea(" + num + ")").html();
			}

			function setAmountAt(pos, amount) {
				 $(".num:ea(" + num + ")").html(amount);
			}

			function resize(ratioX, ratioY) {
				RatioX = ratioX;
				RatioTotalX *= ratioX;

				var height = document.getElementById("selectBar").offsetHeight;
				$("#selectBar").attr("width",  document.getElementById("selectBar").offsetWidth * ratioX + "px");
				$("#selectBar").attr("height", height * ratioY + "px");
				
				var height = document.getElementById("selector").offsetHeight;
				$("#selector").attr("width", document.getElementById("selector").offsetWidth * ratioX + "px");
				$("#selector").attr("height", height * ratioY + "px");

				$(".slot").each(function(index) {
					var item = $(this);
					var left = (3  + 20 * index) * RatioTotalX;

					$(this).css("top",  top  + "px");
					$(this).css("left", left + "px");

					$(this).children("img").attr("src", "../materials/textures/fire.png");

					$(this).attr("width",  16 * RatioTotalX + "px");
					$(this).attr("height", 16 * RatioTotalY + "px");

					$(this).children("img").attr("width",  16  * RatioTotalX + "px");
					$(this).children("img").attr("height", 16 * RatioTotalY + "px");

				});
				setSelectorPosition(Position);
			}

			$(window).load(function() {
				resize(1, 1);
			});
		</script>
	</head>
	<body style="overflow: hidden;">
		<div id="containor">
			<img src="../images/selectBar.png" id="selectBar" style="position: relative; z-index: -1;"/>
			<div class="slot"><img src="../materials/textures/fire.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<div class="slot"><img src="../images/blank.png" class="item"/><span class="num">3</span></div>
			<img src="../images/selector.png" id="selector"/>
		</div>


	</body>
</html>